{"version":3,"sources":["components/PageTitle.js","components/FilterableProductTable.js","App.js","index.js"],"names":["PageTitle","children","className","TopBar","props","type","placeholder","value","filterText","onChange","e","onFilterTextChange","target","id","checked","inStockOnly","onInStockOnlyChange","htmlFor","ProductTable","handleDeleteClick","onDeleteClick","currentTarget","dataset","index","products","filter","product","capsName","name","toUpperCase","capsFilterText","indexOf","stocked","map","key","classNames","warn","data-id","data-index","onClick","brand","category","price","FilterableProductTable","state","error","isLoaded","handleFilterTextChange","bind","handleInStockOnlyChange","url","this","setState","targetId","targetIndex","axios","delete","then","result","console","log","data","splice","loadProducts","get","catch","response","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1e983a9e.chunk.js","sourcesContent":["import React from 'react';\nimport './PageTitle.scss';\n\nfunction PageTitle({ children }) {\n  return <h1 className=\"page-title\">{children}</h1>;\n}\n\nexport default PageTitle;\n","// TODO: put実装\n\nimport React from 'react';\nimport axios from 'axios';\nimport classNames from 'classnames';\nimport './FilterableProductTable.scss';\n\nfunction TopBar(props) {\n  const handleFilterTextChange = (e) => {\n    props.onFilterTextChange(e.target.value);\n  };\n  const handleInStockOnlyChange = (e) => {\n    props.onInStockOnlyChange(e.target.checked);\n  };\n\n  return (\n    <div className=\"top-bar\">\n      <form>\n        <input\n          type=\"text\"\n          placeholder=\"Search name...\"\n          value={props.filterText}\n          onChange={handleFilterTextChange}\n        />\n        <input\n          id=\"checkInStockOnly\"\n          type=\"checkbox\"\n          checked={props.inStockOnly}\n          onChange={handleInStockOnlyChange}\n        />{' '}\n        <label htmlFor=\"checkInStockOnly\">Only show products in stock</label>\n      </form>\n    </div>\n  );\n}\n\nfunction ProductTable(props) {\n  const handleDeleteClick = (e) => {\n    props.onDeleteClick(\n      e.currentTarget.dataset.id,\n      e.currentTarget.dataset.index\n    );\n  };\n\n  /**\n   * @param {Array} product\n   */\n  const isFilterTextValid = (product) => {\n    const capsName = product.name.toUpperCase();\n    const capsFilterText = props.filterText.toUpperCase();\n    return capsName.indexOf(capsFilterText) !== -1;\n  };\n\n  /**\n   * @param {Array} product\n   */\n  const isInStockOnlyValid = (product) => {\n    return props.inStockOnly ? product.stocked : !undefined;\n  };\n\n  return (\n    <table className=\"product-table\">\n      <thead>\n        <tr className=\"table-row\">\n          <th className=\"table-cell text-center\"></th>\n          <th className=\"table-cell text-right\">ID</th>\n          <th className=\"table-cell text-left\">Brand</th>\n          <th className=\"table-cell text-left\">Category</th>\n          <th className=\"table-cell text-left\">Name</th>\n          <th className=\"table-cell text-right\">Price</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.products\n          .filter(isFilterTextValid)\n          .filter(isInStockOnlyValid)\n          .map((product, index) => (\n            <tr\n              key={product.id}\n              className={classNames('table-row', { warn: !product.stocked })}\n            >\n              <td className=\"table-cell text-center\">\n                <button\n                  className=\"button\"\n                  data-id={product.id}\n                  data-index={index}\n                  onClick={handleDeleteClick}\n                >\n                  DELETE\n                </button>\n              </td>\n              <td className=\"table-cell text-right\">{product.id}</td>\n              <td className=\"table-cell text-left\">{product.brand}</td>\n              <td className=\"table-cell text-left\">{product.category}</td>\n              <td className=\"table-cell text-left\">{product.name}</td>\n              <td className=\"table-cell text-right\">{product.price}</td>\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  );\n}\n\nclass FilterableProductTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      products: [],\n      filterText: '',\n      inStockOnly: false,\n    };\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this);\n    this.handleInStockOnlyChange = this.handleInStockOnlyChange.bind(this);\n    this.handleDeleteClick = this.handleDeleteClick.bind(this);\n    this.url = 'https://5e6736691937020016fed762.mockapi.io/products';\n  }\n\n  /**\n   * @param {String} filterText\n   */\n  handleFilterTextChange(filterText) {\n    this.setState({ filterText: filterText });\n  }\n\n  /**\n   * @param {Boolean} inStockOnly\n   */\n  handleInStockOnlyChange(inStockOnly) {\n    this.setState({ inStockOnly: inStockOnly });\n  }\n\n  /**\n   * @param {String} targetId\n   * @param {Number} targetIndex\n   */\n  handleDeleteClick(targetId, targetIndex) {\n    axios.delete(`${this.url}/${targetId}`).then((result) => {\n      console.log(`Deleted: id = ${result.data.id}`);\n      this.state.products.splice(targetIndex, 1);\n      this.setState({ isLoaded: true, products: this.state.products });\n    });\n  }\n\n  componentDidMount() {\n    this.loadProducts(this.url);\n  }\n\n  loadProducts(url) {\n    axios\n      .get(url)\n      .then((result) => {\n        this.setState({ isLoaded: true, products: result.data });\n      })\n      .catch((result) => {\n        this.setState({ isLoaded: true, error: 'Error!' });\n        console.log({ ...result.response });\n      });\n  }\n\n  render() {\n    return (\n      <>\n        <TopBar\n          filterText={this.state.filterText}\n          inStockOnly={this.state.inStockOnly}\n          onFilterTextChange={this.handleFilterTextChange}\n          onInStockOnlyChange={this.handleInStockOnlyChange}\n        />\n        {!this.state.isLoaded ? (\n          <div>Loading...</div>\n        ) : (\n          <ProductTable\n            filterText={this.state.filterText}\n            inStockOnly={this.state.inStockOnly}\n            products={this.state.products}\n            onDeleteClick={this.handleDeleteClick}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default FilterableProductTable;\n","import React from 'react'\nimport './Reset.scss'\nimport './App.scss'\nimport PageTitle from './components/PageTitle'\nimport FilterableProductTable from './components/FilterableProductTable'\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <PageTitle>Product</PageTitle>\n      <FilterableProductTable />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}