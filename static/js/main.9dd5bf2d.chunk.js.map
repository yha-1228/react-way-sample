{"version":3,"sources":["components/FilterableProductTable.js","App.js","index.js"],"names":["TopBar","props","type","placeholder","value","filterText","onChange","e","onFilterTextChange","target","id","checked","inStockOnly","onInStockOnlyChange","htmlFor","ProductTable","handleDeleteClick","onDeleteClick","currentTarget","dataset","className","products","filter","product","capsName","name","toUpperCase","capsFilterText","indexOf","stocked","map","key","classNames","warn","data-id","onClick","brand","category","price","FilterableProductTable","state","error","isLoaded","handleFilterTextChange","bind","handleInStockOnlyChange","url","this","setState","targetId","axios","delete","then","response","alert","data","componentDidMount","get","catch","console","log","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9dd5bf2d.chunk.js","sourcesContent":["// TODO: Loadingを表だけに\n// TODO: put実装\n\nimport React from 'react'\nimport axios from 'axios'\nimport classNames from 'classnames'\nimport './FilterableProductTable.scss'\n\nfunction TopBar(props) {\n  const handleFilterTextChange = (e) => {\n    props.onFilterTextChange(e.target.value)\n  }\n  const handleInStockOnlyChange = (e) => {\n    props.onInStockOnlyChange(e.target.checked)\n  }\n\n  return (\n    <form>\n      <input\n        type=\"text\"\n        placeholder=\"Search name...\"\n        value={props.filterText}\n        onChange={handleFilterTextChange}\n      />\n      <p>\n        <input\n          id=\"checkInStockOnly\"\n          type=\"checkbox\"\n          checked={props.inStockOnly}\n          onChange={handleInStockOnlyChange}\n        />{' '}\n        <label htmlFor=\"checkInStockOnly\">Only show products in stock</label>\n      </p>\n    </form>\n  )\n}\n\nfunction ProductTable(props) {\n  const handleDeleteClick = (e) => {\n    props.onDeleteClick(e.currentTarget.dataset.id)\n  }\n\n  /**\n   * @param {Array} product\n   */\n  const isFilterTextValid = (product) => {\n    const capsName = product.name.toUpperCase()\n    const capsFilterText = props.filterText.toUpperCase()\n    return capsName.indexOf(capsFilterText) !== -1\n  }\n\n  /**\n   * @param {Array} product\n   */\n  const isInStockOnlyValid = (product) => {\n    return props.inStockOnly ? product.stocked : !undefined\n  }\n\n  return (\n    <table className=\"product-table\">\n      <thead>\n        <tr className=\"table-row\">\n          <th className=\"table-cell text-center\"></th>\n          <th className=\"table-cell text-right\">ID</th>\n          <th className=\"table-cell text-left\">Brand</th>\n          <th className=\"table-cell text-left\">Category</th>\n          <th className=\"table-cell text-left\">Name</th>\n          <th className=\"table-cell text-right\">Price</th>\n        </tr>\n      </thead>\n      <tbody>\n        {props.products\n          .filter(isFilterTextValid)\n          .filter(isInStockOnlyValid)\n          .map((product) => (\n            <tr\n              key={product.id}\n              className={classNames('table-row', { warn: !product.stocked })}\n            >\n              <td className=\"table-cell text-center\">\n                <button data-id={product.id} onClick={handleDeleteClick}>\n                  DELETE\n                </button>\n              </td>\n              <td className=\"table-cell text-right\">{product.id}</td>\n              <td className=\"table-cell text-left\">{product.brand}</td>\n              <td className=\"table-cell text-left\">{product.category}</td>\n              <td className=\"table-cell text-left\">{product.name}</td>\n              <td className=\"table-cell text-right\">{product.price}</td>\n            </tr>\n          ))}\n      </tbody>\n    </table>\n  )\n}\n\nclass FilterableProductTable extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      error: null,\n      isLoaded: false,\n      products: [],\n      filterText: '',\n      inStockOnly: false,\n    }\n    this.handleFilterTextChange = this.handleFilterTextChange.bind(this)\n    this.handleInStockOnlyChange = this.handleInStockOnlyChange.bind(this)\n    this.handleDeleteClick = this.handleDeleteClick.bind(this)\n    this.url = 'https://5e6736691937020016fed762.mockapi.io/products'\n  }\n\n  /**\n   * @param {String} filterText\n   */\n  handleFilterTextChange(filterText) {\n    this.setState({ filterText: filterText })\n  }\n\n  /**\n   * @param {Boolean} inStockOnly\n   */\n  handleInStockOnlyChange(inStockOnly) {\n    this.setState({ inStockOnly: inStockOnly })\n  }\n\n  /**\n   * @param {String} targetId\n   */\n  handleDeleteClick(targetId) {\n    axios.delete(`${this.url}/${targetId}`).then((response) => {\n      alert(`Deleted [id: ${response.data.id}] data.`)\n      this.componentDidMount()\n    })\n  }\n\n  componentDidMount() {\n    axios\n      .get(this.url)\n      .then((response) => {\n        this.setState({ isLoaded: true, products: response.data })\n      })\n      .catch((response) => {\n        this.setState({ isLoaded: true, error: response })\n        console.log(`Error! => ${this.state.error}`)\n      })\n  }\n\n  render() {\n    if (this.state.error) {\n      return <div>Error! {this.state.error}</div>\n    } else if (!this.state.isLoaded) {\n      return <div>Loading...</div>\n    } else {\n      return (\n        <>\n          <TopBar\n            filterText={this.state.filterText}\n            inStockOnly={this.state.inStockOnly}\n            onFilterTextChange={this.handleFilterTextChange}\n            onInStockOnlyChange={this.handleInStockOnlyChange}\n          />\n          <ProductTable\n            filterText={this.state.filterText}\n            inStockOnly={this.state.inStockOnly}\n            products={this.state.products}\n            onDeleteClick={this.handleDeleteClick}\n          />\n        </>\n      )\n    }\n  }\n}\n\nexport default FilterableProductTable\n","import React from 'react'\nimport './Reset.scss'\nimport './App.scss'\nimport FilterableProductTable from './components/FilterableProductTable'\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <FilterableProductTable />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}